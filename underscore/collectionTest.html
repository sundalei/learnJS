<html>

<head>
    <title>collection test</title>
    <script src="underscore.js"></script>
    <script src="../jquery/jquery-2.2.3.js"></script>
    <script>
        $(function() {
            var obj = {
                name: 'Bob',
                school: 'No.1 middle school',
                address: 'xueyuan road'
            };

            var upper = _.mapObject(obj, function(value) {
                return value;
            });

            alert(JSON.stringify(upper));

            // 所有元素都大于0？
            _.every([1, 4, 7, -3, -9], (x) => x > 0);
            // 至少一个元素大于0？
            _.some([1, 4, 7, -3, -9], (x) => x > 0);

            // 判断key和value是否全部是小写：
            var r1 = _.every(obj, function(value, key) {
                var f = function(x) {
                    return x === x.toLowerCase();
                }
                return _.every(value, f) && _.every(key, f);
            });
            var r2 = _.some(obj, function(value, key) {
                var f = function(x) {
                    return !(x === x.toUpperCase());
                }
                return _.some(value, f) && _.some(key, f);
            });
            alert('every key-value are lowercase: ' + r1 + '\nsome key-value are lowercase: ' + r2);

            var arr = [3, 5, 7, 9];
            _.max(arr);
            _.min(arr);
            _.max([]);
            _.min([]);
            _.max({a:1, b: 2, c: 3});

            var scores = [20, 81, 75, 40, 91, 59, 77, 66, 72, 88, 99];
            var groups = _.groupBy(scores, function(x) {
                if(x < 60) {
                    return 'C';
                } else if(x < 80) {
                    return 'B';
                } else {
                    return 'A';
                }
            });

            _.shuffle([1, 2, 3, 4, 5, 6]);
            _.sample([1, 2, 3, 4, 5, 6]);
            _.sample([1, 2, 3, 4, 5, 6], 3);
        });
    </script>
</head>

<body>
    <h1>hello world</h1>
</body>

</html>
